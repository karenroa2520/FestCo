<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FestCo - Eventos</title>
  <link rel="stylesheet" th:href="@{/css/pagina_prin.css}" href="/src/main/resources/static/css/pagina_prin.css">
</head>
<body>
  <header>
    <div class="logo">
      <img th:src="@{/img/logo.png}" src="/src/main/resources/static/img/logo.png" alt="Logo">
      <span><b>FestCo</b></span>
    </div>
    <nav>
      <a href="/" class="active">Inicio</a>
      <form action="/buscar" method="get">
         <input type="search" id="buscar" name="q" placeholder="Buscar eventos...">
         <input type="submit" value="Buscar">
      </form>
      <a th:href="@{/login}" href="/login">Iniciar Sesi贸n</a>
      <a th:href="@{/administrador}" href="/src/main/resources/templates/usuario/usuario.html">Admin</a>
    </nav>
  </header>

  <main class="container">
    <h1>Eventos Disponibles</h1>
    
    <!-- Contenedor para los eventos -->
    <section id="eventos" class="eventos-grid">
      <div th:each="evento : ${eventos}" class="evento-card">
        <div class="card">
          <div class="card-header">
            <img class="card-img" th:src="@{/img/fiesta1.jpg}" alt="Imagen del Evento">
            <h3 th:text="${evento.nombre}">Nombre del Evento</h3>
          </div>
          <div class="card-body">
            <p class="description" th:text="${evento.descripcion}">Descripci贸n del evento</p>
            <p class="location"><strong>Ubicaci贸n:</strong> 
              <span th:if="${evento.municipio != null}" th:text="${evento.municipio.municipio}">Municipio</span>
            </p>
            <p class="date"><strong>Fecha inicio:</strong> 
              <span th:text="${#temporals.format(evento.fechaInicio, 'dd/MM/yyyy')}">Fecha</span>
            </p>
            <p class="date"><strong>Fecha fin:</strong> 
              <span th:text="${#temporals.format(evento.fechaFin, 'dd/MM/yyyy')}">Fecha</span>
            </p>
            <p class="time"><strong>Horario:</strong> 
              <span th:text="${#temporals.format(evento.horaInicio, 'HH:mm')}">Hora inicio</span> - 
              <span th:text="${#temporals.format(evento.horaFin, 'HH:mm')}">Hora fin</span>
            </p>
            <div class="artistas" th:if="${evento.artistas != null and !evento.artistas.empty}">
              <strong>Artistas:</strong>
              <ul>
                <li th:each="artista : ${evento.artistas}" th:text="${artista.nombre}">Artista</li>
              </ul>
            </div>
          </div>
          <div class="card-footer">
            <button class="btn-primary" th:onclick="'verDetalles(' + ${evento.id} + ')'">Ver Detalles</button>
            <button class="btn-secondary" th:onclick="'comprarBoletas(' + ${evento.id} + ')'">Comprar Boletas</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Mensaje cuando no hay eventos -->
    <div th:if="${eventos == null or eventos.empty}" class="no-events">
      <h2>No hay eventos disponibles en este momento</h2>
      <p>Vuelve pronto para ver los pr贸ximos eventos.</p>
    </div>
  </main>

  <script th:src="@{/js/login.js}" src="/src/main/resources/static/js/login.js"></script>
</body>
</html>